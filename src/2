#include <stdio.h>
#include <stdlib.h>
#include <errno.h>
#include <SDL2/SDL.h>

#include "header.h"
#include "functions.c"

void move_tetromino_left(int **board);
void move_tetromino_right(int **board);

int main(int argc, char *argv[]){
	
  /* Create pointer to 2D array.  */
  int **board;

  /* Create a board. In this array of board the following values are defined
   * as follows: -1 (=EMPTY) is an empty block, 0 is a garbage block and lastly
   * 1 (=USER) is a block under user control. */
  /* Board is indexed as follows: 
   * (0,0) (0,1) (0,2) ... (0,9)
   * (1,0)...
   * (2,0)...
   * .
   * .
   * .
   * (19,0)
   */
  
  board = create_board();

  /*Do*/
  for(int i=0; i<7; i++){
		
    print_board(board);

  }

  printf("\n");

  free(board);

  return 0;

}

void move_tetromino_left(int **board){

  int **user_indices = get_user_indices(board);

  /* Check whether block is movable to left or blocked by wall.  */
  for(int i=0; i<4; i++){
		
    if(user_indices[i][1] == 0){
      return;
    }		
  }
  
  /* If no corner move to left.  */
  for(int i=0; i<4; i++){
    board[user_indices[i][0]][user_indices[i][1]] = -1;
  }
  
  for(int i=0; i<4; i++){
    board[user_indices[i][0]][user_indices[i][1] - 1] = 1;
  }

}
